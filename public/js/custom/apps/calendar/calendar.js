(()=>{"use strict";var e,t,n,a,o,i,r,l,d,c,s,m,u,v,f,p,y,D,k,_,g,b,S,h,T,Y,w,L,E,M,x,B,q,C,N,A,H=(M={id:"",eventName:"",eventDescription:"",eventLocation:"",startDate:"",endDate:"",allDay:!1},x=function(){v.innerText="Add a New Event",u.show();var o=f.querySelectorAll('[data-kt-calendar="datepicker"]'),r=f.querySelector("#kt_calendar_datepicker_allday");r.addEventListener("click",(function(e){e.target.checked?o.forEach((function(e){e.classList.add("d-none")})):(l.setDate(M.startDate,!0,"Y-m-d"),o.forEach((function(e){e.classList.remove("d-none")})))})),C(M),D.addEventListener("click",(function(o){o.preventDefault(),p&&p.validate().then((function(o){console.log("validated!"),"Valid"==o?(D.setAttribute("data-kt-indicator","on"),D.disabled=!0,setTimeout((function(){D.removeAttribute("data-kt-indicator"),Swal.fire({text:"New event added to calendar!",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}}).then((function(o){if(o.isConfirmed){u.hide(),D.disabled=!1;var d=!1;r.checked&&(d=!0),0===c.selectedDates.length&&(d=!0);var s=moment(i.selectedDates[0]).format(),v=moment(l.selectedDates[l.selectedDates.length-1]).format();if(!d){var p=moment(i.selectedDates[0]).format("YYYY-MM-DD"),y=p;s=p+"T"+moment(c.selectedDates[0]).format("HH:mm:ss"),v=y+"T"+moment(m.selectedDates[0]).format("HH:mm:ss")}e.addEvent({id:A(),title:t.value,description:n.value,location:a.value,start:s,end:v,allDay:d}),e.render(),f.reset()}}))}),2e3)):Swal.fire({text:"Sorry, looks like there are some errors detected, please try again.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}})}))}))},B=function(){var e,t,n;w.show(),M.allDay?(e="All Day",t=moment(M.startDate).format("Do MMM, YYYY"),n=moment(M.endDate).format("Do MMM, YYYY")):(e="",t=moment(M.startDate).format("Do MMM, YYYY - h:mm a"),n=moment(M.endDate).format("Do MMM, YYYY - h:mm a")),g.innerText=M.eventName,b.innerText=e,S.innerText=M.eventDescription?M.eventDescription:"--",h.innerText=M.eventLocation?M.eventLocation:"--",T.innerText=t,Y.innerText=n},q=function(){L.addEventListener("click",(function(o){o.preventDefault(),w.hide(),function(){v.innerText="Edit an Event",u.show();var o=f.querySelectorAll('[data-kt-calendar="datepicker"]'),r=f.querySelector("#kt_calendar_datepicker_allday");r.addEventListener("click",(function(e){e.target.checked?o.forEach((function(e){e.classList.add("d-none")})):(l.setDate(M.startDate,!0,"Y-m-d"),o.forEach((function(e){e.classList.remove("d-none")})))})),C(M),D.addEventListener("click",(function(o){o.preventDefault(),p&&p.validate().then((function(o){console.log("validated!"),"Valid"==o?(D.setAttribute("data-kt-indicator","on"),D.disabled=!0,setTimeout((function(){D.removeAttribute("data-kt-indicator"),Swal.fire({text:"New event added to calendar!",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}}).then((function(o){if(o.isConfirmed){u.hide(),D.disabled=!1,e.getEventById(M.id).remove();var d=!1;r.checked&&(d=!0),0===c.selectedDates.length&&(d=!0);var s=moment(i.selectedDates[0]).format(),v=moment(l.selectedDates[l.selectedDates.length-1]).format();if(!d){var p=moment(i.selectedDates[0]).format("YYYY-MM-DD"),y=p;s=p+"T"+moment(c.selectedDates[0]).format("HH:mm:ss"),v=y+"T"+moment(m.selectedDates[0]).format("HH:mm:ss")}e.addEvent({id:A(),title:t.value,description:n.value,location:a.value,start:s,end:v,allDay:d}),e.render(),f.reset()}}))}),2e3)):Swal.fire({text:"Sorry, looks like there are some errors detected, please try again.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}})}))}))}()}))},C=function(){t.value=M.eventName?M.eventName:"",n.value=M.eventDescription?M.eventDescription:"",a.value=M.eventLocation?M.eventLocation:"",i.setDate(M.startDate,!0,"Y-m-d");var e=M.endDate?M.endDate:moment(M.startDate).format();l.setDate(e,!0,"Y-m-d");var o=f.querySelector("#kt_calendar_datepicker_allday"),r=f.querySelectorAll('[data-kt-calendar="datepicker"]');M.allDay?(o.checked=!0,r.forEach((function(e){e.classList.add("d-none")}))):(c.setDate(M.startDate,!0,"Y-m-d H:i"),m.setDate(M.endDate,!0,"Y-m-d H:i"),l.setDate(M.startDate,!0,"Y-m-d"),o.checked=!1,r.forEach((function(e){e.classList.remove("d-none")})))},N=function(e){M.id=e.id,M.eventName=e.title,M.eventDescription=e.description,M.eventLocation=e.location,M.startDate=e.startStr,M.endDate=e.endStr,M.allDay=e.allDay},A=function(){return Date.now().toString()+Math.floor(1e3*Math.random()).toString()},{init:function(){var C=document.getElementById("kt_modal_add_event");f=C.querySelector("#kt_modal_add_event_form"),t=f.querySelector('[name="calendar_event_name"]'),n=f.querySelector('[name="calendar_event_description"]'),a=f.querySelector('[name="calendar_event_location"]'),o=f.querySelector("#kt_calendar_datepicker_start_date"),r=f.querySelector("#kt_calendar_datepicker_end_date"),d=f.querySelector("#kt_calendar_datepicker_start_time"),s=f.querySelector("#kt_calendar_datepicker_end_time"),y=document.querySelector('[data-kt-calendar="add"]'),D=f.querySelector("#kt_modal_add_event_submit"),k=f.querySelector("#kt_modal_add_event_cancel"),_=C.querySelector("#kt_modal_add_event_close"),v=f.querySelector('[data-kt-calendar="title"]'),u=new bootstrap.Modal(C);var H,F,O,I,R,V,P=document.getElementById("kt_modal_view_event");w=new bootstrap.Modal(P),g=P.querySelector('[data-kt-calendar="event_name"]'),b=P.querySelector('[data-kt-calendar="all_day"]'),S=P.querySelector('[data-kt-calendar="event_description"]'),h=P.querySelector('[data-kt-calendar="event_location"]'),T=P.querySelector('[data-kt-calendar="event_start_date"]'),Y=P.querySelector('[data-kt-calendar="event_end_date"]'),L=P.querySelector("#kt_modal_view_event_edit"),E=P.querySelector("#kt_modal_view_event_delete"),H=document.getElementById("kt_calendar_app"),F=moment().startOf("day"),O=F.format("YYYY-MM"),I=F.clone().subtract(1,"day").format("YYYY-MM-DD"),R=F.format("YYYY-MM-DD"),V=F.clone().add(1,"day").format("YYYY-MM-DD"),(e=new FullCalendar.Calendar(H,{headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},initialDate:R,navLinks:!0,selectable:!0,selectMirror:!0,select:function(e){N(e),x()},eventClick:function(e){N({id:e.event.id,title:e.event.title,description:e.event.extendedProps.description,location:e.event.extendedProps.location,startStr:e.event.startStr,endStr:e.event.endStr,allDay:e.event.allDay}),B()},editable:!0,dayMaxEvents:!0,events:[{id:A(),title:"All Day Event",start:O+"-01",end:O+"-02",description:"Toto lorem ipsum dolor sit incid idunt ut",className:"fc-event-danger fc-event-solid-warning",location:"Federation Square"},{id:A(),title:"Reporting",start:O+"-14T13:30:00",description:"Lorem ipsum dolor incid idunt ut labore",end:O+"-14T14:30:00",className:"fc-event-success",location:"Meeting Room 7.03"},{id:A(),title:"Company Trip",start:O+"-02",description:"Lorem ipsum dolor sit tempor incid",end:O+"-03",className:"fc-event-primary",location:"Seoul, Korea"},{id:A(),title:"ICT Expo 2021 - Product Release",start:O+"-03",description:"Lorem ipsum dolor sit tempor inci",end:O+"-05",className:"fc-event-light fc-event-solid-primary",location:"Melbourne Exhibition Hall"},{id:A(),title:"Dinner",start:O+"-12",description:"Lorem ipsum dolor sit amet, conse ctetur",end:O+"-13",location:"Squire's Loft"},{id:A(),title:"Repeating Event",start:O+"-09T16:00:00",end:O+"-09T17:00:00",description:"Lorem ipsum dolor sit ncididunt ut labore",className:"fc-event-danger",location:"General Area"},{id:A(),title:"Repeating Event",description:"Lorem ipsum dolor sit amet, labore",start:O+"-16T16:00:00",end:O+"-16T17:00:00",location:"General Area"},{id:A(),title:"Conference",start:I,end:V,description:"Lorem ipsum dolor eius mod tempor labore",className:"fc-event-primary",location:"Conference Hall A"},{id:A(),title:"Meeting",start:R+"T10:30:00",end:R+"T12:30:00",description:"Lorem ipsum dolor eiu idunt ut labore",location:"Meeting Room 11.06"},{id:A(),title:"Lunch",start:R+"T12:00:00",end:R+"T14:00:00",className:"fc-event-info",description:"Lorem ipsum dolor sit amet, ut labore",location:"Cafeteria"},{id:A(),title:"Meeting",start:R+"T14:30:00",end:R+"T15:30:00",className:"fc-event-warning",description:"Lorem ipsum conse ctetur adipi scing",location:"Meeting Room 11.10"},{id:A(),title:"Happy Hour",start:R+"T17:30:00",end:R+"T21:30:00",className:"fc-event-info",description:"Lorem ipsum dolor sit amet, conse ctetur",location:"The English Pub"},{id:A(),title:"Dinner",start:V+"T18:00:00",end:V+"T21:00:00",className:"fc-event-solid-danger fc-event-light",description:"Lorem ipsum dolor sit ctetur adipi scing",location:"New York Steakhouse"},{id:A(),title:"Birthday Party",start:V+"T12:00:00",end:V+"T14:00:00",className:"fc-event-primary",description:"Lorem ipsum dolor sit amet, scing",location:"The English Pub"},{id:A(),title:"Site visit",start:O+"-28",end:O+"-29",className:"fc-event-solid-info fc-event-light",description:"Lorem ipsum dolor sit amet, labore",location:"271, Spring Street"}],datesSet:function(){}})).render(),p=FormValidation.formValidation(f,{fields:{calendar_event_name:{validators:{notEmpty:{message:"Event name is required"}}},calendar_event_start_date:{validators:{notEmpty:{message:"Start date is required"}}},calendar_event_end_date:{validators:{notEmpty:{message:"End date is required"}}}},plugins:{trigger:new FormValidation.plugins.Trigger,bootstrap:new FormValidation.plugins.Bootstrap5({rowSelector:".fv-row",eleInvalidClass:"",eleValidClass:""})}}),i=flatpickr(o,{enableTime:!1,dateFormat:"Y-m-d"}),l=flatpickr(r,{enableTime:!1,dateFormat:"Y-m-d"}),c=flatpickr(d,{enableTime:!0,noCalendar:!0,dateFormat:"H:i"}),m=flatpickr(s,{enableTime:!0,noCalendar:!0,dateFormat:"H:i"}),q(),y.addEventListener("click",(function(e){M={id:"",eventName:"",eventDescription:"",startDate:new Date,endDate:new Date,allDay:!1},x()})),E.addEventListener("click",(function(t){t.preventDefault(),Swal.fire({text:"Are you sure you would like to delete this event?",icon:"warning",showCancelButton:!0,buttonsStyling:!1,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, return",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-active-light"}}).then((function(t){t.value?(e.getEventById(M.id).remove(),w.hide()):"cancel"===t.dismiss&&Swal.fire({text:"Your event was not deleted!.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}})}))})),k.addEventListener("click",(function(e){e.preventDefault(),Swal.fire({text:"Are you sure you would like to cancel?",icon:"warning",showCancelButton:!0,buttonsStyling:!1,confirmButtonText:"Yes, cancel it!",cancelButtonText:"No, return",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-active-light"}}).then((function(e){e.value?(f.reset(),u.hide()):"cancel"===e.dismiss&&Swal.fire({text:"Your form has not been cancelled!.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}})}))})),_.addEventListener("click",(function(e){e.preventDefault(),Swal.fire({text:"Are you sure you would like to cancel?",icon:"warning",showCancelButton:!0,buttonsStyling:!1,confirmButtonText:"Yes, cancel it!",cancelButtonText:"No, return",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-active-light"}}).then((function(e){e.value?(f.reset(),u.hide()):"cancel"===e.dismiss&&Swal.fire({text:"Your form has not been cancelled!.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}})}))})),function(e){e.addEventListener("hidden.bs.modal",(function(e){p&&p.resetForm(!0)}))}(C)}});KTUtil.onDOMContentLoaded((function(){H.init()}))})();